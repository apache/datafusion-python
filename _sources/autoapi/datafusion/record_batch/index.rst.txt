datafusion.record_batch
=======================

.. py:module:: datafusion.record_batch

.. autoapi-nested-parse::

   This module provides the classes for handling record batches.

   These are typically the result of dataframe
   :py:func:`datafusion.dataframe.execute_stream` operations.



Classes
-------

.. autoapisummary::

   datafusion.record_batch.RecordBatch
   datafusion.record_batch.RecordBatchStream


Module Contents
---------------

.. py:class:: RecordBatch(record_batch: datafusion._internal.RecordBatch)

   This class is essentially a wrapper for :py:class:`pa.RecordBatch`.

   This constructor is generally not called by the end user.

   See the :py:class:`RecordBatchStream` iterator for generating this class.


   .. py:method:: __arrow_c_array__(requested_schema: object | None = None) -> tuple[object, object]

      Export the record batch via the Arrow C Data Interface.

      This allows zero-copy interchange with libraries that support the
      `Arrow PyCapsule interface <https://arrow.apache.org/docs/format/
      CDataInterface/PyCapsuleInterface.html>`_.

      :param requested_schema: Attempt to provide the record batch using this
                               schema. Only straightforward projections such as column
                               selection or reordering are applied.

      :returns: Two Arrow PyCapsule objects representing the ``ArrowArray`` and
                ``ArrowSchema``.



   .. py:method:: to_pyarrow() -> pyarrow.RecordBatch

      Convert to :py:class:`pa.RecordBatch`.



   .. py:attribute:: record_batch


.. py:class:: RecordBatchStream(record_batch_stream: datafusion._internal.RecordBatchStream)

   This class represents a stream of record batches.

   These are typically the result of a
   :py:func:`~datafusion.dataframe.DataFrame.execute_stream` operation.

   This constructor is typically not called by the end user.


   .. py:method:: __aiter__() -> typing_extensions.Self

      Return an asynchronous iterator over record batches.



   .. py:method:: __anext__() -> RecordBatch
      :async:


      Return the next :py:class:`RecordBatch` in the stream asynchronously.



   .. py:method:: __iter__() -> typing_extensions.Self

      Return an iterator over record batches.



   .. py:method:: __next__() -> RecordBatch

      Return the next :py:class:`RecordBatch` in the stream.



   .. py:method:: next() -> RecordBatch

      See :py:func:`__next__` for the iterator function.



   .. py:attribute:: rbs


